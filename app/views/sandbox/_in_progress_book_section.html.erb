<div class="bg-white dark:bg-gray-800 p-5 rounded-lg shadow border border-gray-200 dark:border-gray-700">
  <% if in_progress_book %>
    <% cache [Current.user, in_progress_book, "in_progress_book"] do %>
      <div class="flex space-x-4 relative">
        <!-- Default Book Cover -->
        <div class="w-1/3 h-auto flex-shrink-0 relative">
          <%= image_tag in_progress_book.cover_image_url || "default_book_cover.jpg", alt: "Default Book Cover", class: "w-full h-full object-cover rounded-md" %>
          <!-- Eye Icon Link -->
          <% link_to book_path(in_progress_book, return_to_title: 'Dashboard', return_to: request.env['PATH_INFO']), class: "absolute -top-4 -left-4 bg-gray-300 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full p-2 shadow-sm" do %>
            <%= heroicon "eye", variant: :solid, options: { class: "w-4 h-4" } %>
          <% end %>
        </div>
        <!-- Text and Button -->
        <div class="flex-1 w-full">
          <div class='text-xl font-bold text-gray-900 dark:text-gray-100'><%= in_progress_book.title %></div>
          <div class='mb-8 text-lg text-gray-900 dark:text-gray-100'><%= in_progress_book.authors_names %></div>
          <%= button_to book_path(in_progress_book, return_to: root_path, book: { finish_date: Date.current }), method: :patch, class: "mt-3 flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 dark:bg-blue-700 dark:hover:bg-blue-600 text-white font-medium rounded shadow" do %>
            <%= heroicon "check-circle", variant: :solid, options: { class: "w-5 h-5" } %>
            <span>Mark as complete</span>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Start a New Book</h2>
    <p class="text-gray-700 dark:text-gray-300">You currently have no books in progress.</p>
    <%= link_to new_book_path(return_to: root_path), class: "mt-3 flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-500 dark:bg-green-700 dark:hover:bg-green-600 text-white font-medium rounded shadow" do %>
      <%= heroicon "plus-circle", variant: :solid, options: { class: "w-5 h-5" } %>
      <span>Add a Book</span>
    <% end %>
  <% end %>
</div>